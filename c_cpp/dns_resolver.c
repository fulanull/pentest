/*
 * main.c
 *
 *  Created on: Oct 15, 2019
 *      Author: dollar
 */
#include<stdio.h>
#include<netdb.h>
#include<arpa/inet.h>

int main (int argc, char* argv[])
{
	if(argc != 2)
	{
		printf("DNS RESOLVER\n");
		printf("USAGE: %s [address]", argv[0]);
		printf("\n");
		printf("Example: % www.google.com", argv[0]);
		printf("\n");

		return 0;
	}



	struct hostent* response = NULL;
	response = gethostbyname( argv[1]);

	if( response)
	{
		printf("hostname: %s\n", response->h_name);
		int i= 0;

		for (i = 0; i < response->h_length && response->h_aliases[i]; ++ i)
		{
			printf("Alias[%d]: %s\n",i+1, response->h_aliases[i]);
		}

		for (i = 0; i < response->h_length && response->h_addr_list[i]; ++ i)
		{
			printf("Address[%d]: %s\n",i+1,  inet_ntoa(*(( struct in_addr*)response->h_addr_list[i])));
		}

	}
	else
	{
		printf("%s is invalid", argv[1]);
	}


	printf("\r\n");
	return 0;
}
